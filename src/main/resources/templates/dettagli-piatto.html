<!DOCTYPE html>
<html>

<head th:replace="fragments/base :: head(title=${piatto.nome})"></head>

<body>

	<div th:replace="fragments/base :: header"></div>
	
	<div class="container-fluid">
		
		<main class="row m-3">
			<div id="main-left" class="col-2"></div>
			<div id="main-center" class="col-8">
			
				<div th:each="message : ${successFlashMessages}" th:text="${message}" class="alert alert-success" role="alert"></div>
	
				<div class="position-relative">
					<h5 class="text-center" th:text="${piatto.nome}"></h5>
					<div sec:authorize="hasAuthority('ADMIN')" class="dropdown dropdown-custom position-absolute top-0 end-0">
						<button class="dropdown-button" type="button" data-bs-toggle="dropdown"
							aria-expanded="false">
							<i class="bi bi-three-dots"></i>
						</button>
						<ul class="dropdown-menu">
							<li><a class="dropdown-item"
									th:href="@{'/admin/piatto/' + ${piatto.id} + '/modifica'}">Modifica
									generalità</a></li>
							<li><a class="dropdown-item"
									th:href="@{'/admin/piatto/' + ${piatto.id} + '/ingrediente/nuovo'}">Aggiungi
									ingrediente</a></li>
							<li><a class="dropdown-item"
									th:href="@{'/admin/piatto/' + ${piatto.id} + '/cancella'}">Cancella</a>
							</li>
						</ul>
					</div>
				</div>
	
				<div>
					Dal buffet
					&ldquo;<a th:href="@{'/buffet/' + ${piatto.buffet.id}}" th:text="${piatto.buffet.nome}"></a>&rdquo;
					dello chef
					<a th:href="@{'/chef/' + ${piatto.buffet.chef.id}}" th:text="${piatto.buffet.chef.nome + ' ' + piatto.buffet.chef.cognome}"></a>
				</div>
				
				<br>
				
				<div class="callout">
					<h6>Descrizione del piatto</h6>
					<p class="description m-0" th:text="${piatto.descrizione}"></p>
				</div>
				
				<br>
	
				<h5>Ingredienti</h5>
				<br>
				<ul class="list-group list-group-flush list-group-custom">
					<li class="list-group-item" th:each="ingrediente : ${piatto.ingredienti}">
						<div class="position-relative">
							<span th:text="${ingrediente.nome + ' (' + ingrediente.origine + ')'}"></span>
							<p class="description m-0" th:text="${ingrediente.descrizione}"></p>
							<div sec:authorize="hasAuthority('ADMIN')" class="dropdown dropdown-custom position-absolute top-0 end-0">
								<button class="dropdown-button" type="button" data-bs-toggle="dropdown"
									aria-expanded="false">
									<i class="bi bi-three-dots"></i>
								</button>
								<ul class="dropdown-menu">
									<li><a class="dropdown-item"
											th:href="@{'/admin/piatto/' + ${piatto.id} + '/ingrediente/' + ${ingrediente.id} + '/modifica'}">Modifica
											generalità</a></li>
									<li><a class="dropdown-item"
											th:href="@{'/admin/piatto/' + ${piatto.id} + '/ingrediente/' + ${ingrediente.id} + '/cancella'}">Cancella</a>
									</li>
								</ul>
							</div>
						</div>
					</li>
				</ul>
				
				<br>
				
			</div>
			<div id="main-right" class="col-2"></div>
		</main>
		
	</div>

	<div th:replace="fragments/base :: scripts"></div>

</body>

</html>